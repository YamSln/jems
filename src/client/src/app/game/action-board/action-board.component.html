<div fxLayout="column" fxLayoutAlign="space-around stretch">
  <div fxLayout="column" fxLayoutAlign="space-between center">
    <!-- Current Playing Team Icon -->
    <mat-icon
      style="margin-bottom: 10px"
      [svgIcon]="currentTeam === team.SAPPHIRE ? 'sapphire' : 'ruby'"
      [@flip]="{
        value: currentTeam === team.SAPPHIRE,
        params: { duration: 500 }
      }"
    ></mat-icon>
    <span
      style="margin-bottom: 5px; font-weight: 550"
      [ngClass]="{
        sapphire: currentTeam === team.SAPPHIRE,
        ruby: currentTeam === team.RUBY
      }"
      >Team {{ currentTeam === team.RUBY ? "Ruby" : "Sapphire" }} is
      Playing</span
    >
  </div>
  <!-- Change Team Button -->
  <button (click)="changePlayerTeam()" mat-stroked-button>Change Team</button>
  <!-- Players Table -->
  <div
    fxLayout="row"
    fxLayoutAlign="space-between start"
    style="min-height: 11rem; padding-top: 3vh"
  >
    <!-- Ruby Players -->
    <div class="team" fxLayout="column" fxLayoutAlign="center start">
      <span *ngFor="let player of players">
        <span
          class="player"
          *ngIf="player.team === team.RUBY"
          [matTooltip]="player.nick"
          appTruncatedTooltip
        >
          <mat-icon
            style="position: absolute; left: 5%"
            color="warn"
            matSuffix
            *ngIf="player.role === role.JEM_MASTER"
            >zoom_in</mat-icon
          >
          <span
            class="ruby"
            [ngClass]="{ 'player-self': playerId === player.id }"
          >
            {{ player.nick }}
          </span>
        </span>
      </span>
    </div>
    <!-- Sapphire Players -->
    <div class="team" fxLayout="column" fxLayoutAlign="center start">
      <span *ngFor="let player of players">
        <span
          class="player"
          *ngIf="player.team === team.SAPPHIRE"
          [matTooltip]="player.nick"
          appTruncatedTooltip
        >
          <mat-icon
            style="position: absolute; left: 48%"
            color="primary"
            matSuffix
            *ngIf="player.role === role.JEM_MASTER"
            >zoom_in</mat-icon
          >
          <span
            class="sapphire"
            [ngClass]="{ 'player-self': playerId === player.id }"
          >
            {{ player.nick }}
          </span>
        </span>
      </span>
    </div>
  </div>
  <!-- Timer -->
  <span style="text-align: center" *ngIf="turnTime"
    >Timer: {{ turnTime }} Seconds</span
  >
  <mat-slider
    min="0"
    max="3"
    step="1"
    value="0"
    (change)="setTime($event)"
    [value]="getTime()"
    [matTooltip]="'Set Timer'"
    [matTooltipPosition]="'before'"
  ></mat-slider>
  <mat-card-actions>
    <!-- Change Role Buttons -->
    <mat-button-toggle-group
      [(ngModel)]="playerRole"
      (change)="changePlayerRole()"
    >
      <mat-button-toggle [value]="role.JEMOLOGIST">
        Jemologist
      </mat-button-toggle>
      <mat-button-toggle [value]="role.JEM_MASTER">
        Jem-Master
      </mat-button-toggle>
    </mat-button-toggle-group>
  </mat-card-actions>
  <!-- End Turn Button -->
  <button
    style="margin-bottom: 20px"
    mat-raised-button
    [color]="playerTeam === team.SAPPHIRE ? 'primary' : 'warn'"
    [disabled]="playerRole === role.JEM_MASTER || playerTeam !== currentTeam"
    (click)="endTurn()"
  >
    End Turn
  </button>
  <!-- Word Pack Selection -->
  <mat-selection-list fxLayout="row wrap" *ngIf="wordPacks.length > 1">
    <button
      fxFlex="50%"
      mat-button
      class="wordsPack"
      appTruncatedTooltip
      [matTooltip]="wordPack"
      [color]="selectedWordPack == i ? 'primary' : ''"
      (click)="selectWordsPack(i)"
      *ngFor="let wordPack of wordPacks; let i = index"
    >
      <span [ngClass]="{ selected: selectedWordPack == i }">{{
        wordPack
      }}</span>
    </button>
  </mat-selection-list>
</div>
